<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Garnier Hair Color Predictor</title>
    <style>
        :root {
            --primary-color: #cce0ac;
            --secondary-color: #f0eaac;
            --text-color: #4d632b;
            --bg-color: #f8f8f8;
            --card-color: white;
            --border-color: #ddd;
            --salted-caramelo: #c68b59;
            --tres-leches: #e6c99f;
            --coconut-flan: #f5ecd6;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            width: 100%;
            max-width: 1000px;
            background-color: var(--card-color);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            padding: 30px;
            position: relative;
        }
        
        .canva-top-link {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: #00C4CC;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 8px 15px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 196, 204, 0.3);
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            text-decoration: none;
            z-index: 10;
        }
        
        .canva-top-link:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 196, 204, 0.4);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo {
            max-width: 120px;
            margin-bottom: 15px;
        }
        
        header h1 {
            font-size: 2.2rem;
            color: var(--text-color);
            margin-bottom: 10px;
        }
        
        header p {
            font-size: 1.1rem;
            color: var(--text-color);
            max-width: 800px;
            margin: 0 auto 20px;
        }
        
        .trait-selector {
            margin-bottom: 40px;
        }
        
        .circles-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background-color: var(--primary-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid var(--text-color);
        }
        
        .circle:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }
        
        .circle.spinning {
            animation: spin 3s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            15% {
                transform: rotate(15deg);
            }
            30% {
                transform: rotate(0deg);
            }
            45% {
                transform: rotate(-15deg);
            }
            60% {
                transform: rotate(0deg);
            }
            75% {
                transform: rotate(15deg);
            }
            90% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }
        
        .circle-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }
        
        .circle-title {
            font-weight: bold;
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .circle-value {
            font-size: 0.9rem;
            max-width: 90%;
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .action-button {
            background-color: var(--text-color);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(77, 99, 43, 0.3);
            transition: all 0.3s;
        }
        
        .action-button.secondary {
            background-color: var(--secondary-color);
            color: var(--text-color);
        }
        
        .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(77, 99, 43, 0.4);
        }
        
        .action-button:active {
            transform: translateY(0);
        }
        
        .results {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            margin-bottom: 20px;
        }
        
        .results.show {
            max-height: 1000px;
        }
        
        .results-inner {
            background-color: var(--secondary-color);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
        }
        
        .results-title {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--text-color);
        }
        
        .results-subtitle {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: var(--text-color);
        }
        
        .personality-description {
            font-size: 1.1rem;
            color: var(--text-color);
            margin: 10px auto 20px;
            max-width: 80%;
            line-height: 1.5;
            font-style: italic;
        }
        
        .hair-color-result {
            display: inline-block;
            padding: 8px 15px;
            margin-bottom: 15px;
            border-radius: 30px;
            font-weight: bold;
            color: white;
        }
        
        .hair-color-result.salted-caramelo {
            background-color: var(--salted-caramelo);
        }
        
        .hair-color-result.tres-leches {
            background-color: var(--tres-leches);
            color: var(--text-color);
        }
        
        .hair-color-result.coconut-flan {
            background-color: var(--coconut-flan);
            color: var(--text-color);
        }
        
        .product-image {
            max-width: 200px;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .selected-traits {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .trait-pill {
            background-color: var(--primary-color);
            border-radius: 20px;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .trait-pill-icon {
            font-size: 1.2rem;
        }
        
        .canva-button {
            background-color: #00C4CC;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 196, 204, 0.3);
            transition: all 0.3s;
            margin-top: 15px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .canva-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 196, 204, 0.4);
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            font-size: 0.8rem;
            color: var(--text-color);
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .circles-container {
                gap: 15px;
            }
            
            .circle {
                width: 140px;
                height: 140px;
            }
            
            .circle-icon {
                font-size: 2rem;
            }
            
            .circle-value {
                font-size: 0.8rem;
            }
        }
    </style>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <a href="https://www.canva.com/design/DAGhWlyM26w/erBhMU6LRFNV_0JUe0abkA/view?utm_content=DAGhWlyM26w&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h91fdce14b2" target="_blank" class="canva-top-link">
            <span>View Slideshow</span>
            <i class="fas fa-external-link-alt"></i>
        </a>
        <header>
            <img src="logo.png" alt="Garnier Logo" class="logo">
            <h1>Find Your Perfect Blonde</h1>
            <p>Discover which shade from Garnier's Caramelo Blonde Collection matches your personality!</p>
        </header>
        
        <div class="trait-selector">
            <div class="circles-container">
                <div class="circle" data-category="talent">
                    <div class="circle-icon">üß†</div>
                    <div class="circle-title">Hidden Talent</div>
                    <div class="circle-value">Click to spin</div>
                </div>
                <div class="circle" data-category="love">
                    <div class="circle-icon">‚ù§Ô∏è</div>
                    <div class="circle-title">Love Language</div>
                    <div class="circle-value">Click to spin</div>
                </div>
                <div class="circle" data-category="type">
                    <div class="circle-icon">üß†</div>
                    <div class="circle-title">Your Type</div>
                    <div class="circle-value">Click to spin</div>
                </div>
                <div class="circle" data-category="toxic">
                    <div class="circle-icon">üòÖ</div>
                    <div class="circle-title">Toxic Trait</div>
                    <div class="circle-value">Click to spin</div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="random-button" class="action-button">Spin All</button>
                <button id="results-button" class="action-button hidden">See My Results</button>
                <button id="view-logic-button" class="action-button secondary">View Logic Diagram</button>
            </div>
        </div>
        
        <div class="results">
            <div class="results-inner">
                <h2 class="results-title">Your Results</h2>
                <div class="hair-color-result" id="hair-color-badge">Salted Caramelo</div>
                <h3 class="results-subtitle" id="personality-result">You are a Salted Caramelo type of Powerhouse</h3>
                <p class="personality-description" id="personality-description">A Powerhouse is a total boss who runs the game with a lethal combo of brains and style. She doesn't ask for permission, she takes what she wants and makes it look effortless.</p>
                
                <div class="selected-traits" id="selected-traits-container">
                    <!-- Traits will be added here dynamically -->
                </div>
                
                <div class="product-image-container">
                    <img id="product-image" src="" alt="Product Image" class="product-image">
                </div>
                
                <p>This blonde shade perfectly complements your personality and style!</p>
                
                <a id="product-link" href="" target="_blank" class="canva-button">
                    <span>Learn More About This Shade</span>
                    <i class="fas fa-external-link-alt"></i>
                </a>
            </div>
        </div>
        
        <div class="action-buttons">
            <button id="restart-button" class="action-button secondary hidden">Start Over</button>
        </div>
    </div>
    
    <footer>
        &copy; 2025 VX Media. All rights reserved.
    </footer>
    
    <script>
        // Trait options for each category
        const categories = {
            talent: [
                { icon: "üçø", label: "Making perfect microwave popcorn" },
                { icon: "üõí", label: "Groceries in 1-trip" },
                { icon: "üß†", label: "Amazing memory for drama" },
                { icon: "üì∏", label: "Finding the best lighting" },
                { icon: "üò¥", label: "Ability to sleep anywhere" },
                { icon: "üö©", label: "Spotting red flags instantly" },
                { icon: "üì±", label: "Texting back immediately" },
                { icon: "üßä", label: "Smooth under pressure" },
                { icon: "üó£Ô∏è", label: "Giving great advice" },
                { icon: "üöó", label: "Elite parallel parking" },
                { icon: "‚è∞", label: "Never late" },
                { icon: "üòå", label: "Always unbothered" },
                { icon: "üéµ", label: "Memorizing song lyrics" },
                { icon: "üò¥", label: "Marathon napper" },
                { icon: "üö™", label: "Irish exiting" },
                { icon: "üçí", label: "Mouth-tying cherry stems" }
            ],
            love: [
                { icon: "üí¨", label: "Words of affirmation" },
                { icon: "üéÅ", label: "Receiving gifts" },
                { icon: "üëê", label: "Physical touch" },
                { icon: "üßπ", label: "Acts of service" },
                { icon: "‚è∞", label: "Quality time" }
            ],
            type: [
                { icon: "üìè", label: "Tallest in the room" },
                { icon: "üìö", label: "Lives at the library" },
                { icon: "üí™", label: "Lives at the gym" },
                { icon: "üèÄ", label: "Athlete" },
                { icon: "üéÆ", label: "Gamer" },
                { icon: "üé¨", label: "Film Buff" },
                { icon: "üëü", label: "Lives in Crocs" },
                { icon: "üòí", label: "Emotionally unavailable" },
                { icon: "üßç", label: "Shorties" },
                { icon: "üë±‚Äç‚ôÄÔ∏è", label: "Blondes" },
                { icon: "üßî", label: "Brunettes" },
                { icon: "üó£Ô∏è", label: "Shameless yapper" },
                { icon: "üëó", label: "Fashionista" },
                { icon: "üêï", label: "Golden retriever" },
                { icon: "‚ù§Ô∏è", label: "Hopeless romantic" },
                { icon: "üíº", label: "Works in finance" },
                { icon: "üëî", label: "Preppy" }
            ],
            toxic: [
                { icon: "üò§", label: "Holds grudges forever" },
                { icon: "üôè", label: "Over-apologizes" },
                { icon: "üëª", label: "Ghosting for fun" },
                { icon: "üôà", label: "Avoids confrontation" },
                { icon: "üìÖ", label: "Constantly cancels plans" },
                { icon: "üîï", label: "Always on \"Do Not Disturb\"" },
                { icon: "‚è∞", label: "Sleeps through all alarms" },
                { icon: "üçΩÔ∏è", label: "Can never pick where to eat" },
                { icon: "üôâ", label: "Asks for advice, but never follows it" },
                { icon: "üß≥", label: "Overpacks for everything" },
                { icon: "üèÉ", label: "Constantly \"on the way\"" },
                { icon: "‚ùå", label: "Cancels plans last minute" },
                { icon: "üñ•Ô∏è", label: "Keeps 87 tabs open" },
                { icon: "‚òï", label: "Drinks coffee at midnight" },
                { icon: "‚è±Ô∏è", label: "Always running 10 minutes late" },
                { icon: "‚ôà", label: "Thinks horoscopes explain everything" },
                { icon: "üòë", label: "Says \"it's fine\" (it's not)" },
                { icon: "üòè", label: "Flirts out of boredom" }
            ]
        };
        
        // Personalities for each hair color
        const personalities = {
            "Salted Caramelo": [
                {
                    name: "Powerhouse",
                    description: "A Powerhouse is a total boss who runs the game with a lethal combo of brains and style. She doesn't ask for permission, she takes what she wants and makes it look effortless."
                },
                {
                    name: "Rule Breaker",
                    description: "A Rule Breaker is the one who laughs in the face of expectations. Bold, daring, and never afraid to stir things up, she's got the guts to turn the world upside down and make it her playground."
                },
                {
                    name: "Game Changer",
                    description: "A Game Changer doesn't follow trends, she sets them. Fearless and unstoppable, she's here to flip the script and show everyone how it's done, leaving a trail of jaw-dropped admirers in her wake."
                },
                {
                    name: "Firecracker",
                    description: "A Firecracker is all spark, no filter. Her energy is explosive, her presence undeniable, and she's got a knack for turning even the most boring situations into unforgettable moments."
                },
                {
                    name: "Party Animal",
                    description: "A Party Animal is the life of the scene, bringing the chaos and the good vibes wherever she goes. If there's a party, you'll find her at the center, making sure the fun never stops."
                }
            ],
            "Tres Leches": [
                {
                    name: "Brainiac Baddie",
                    description: "A Brainiac Baddie is a genius wrapped in confidence. She breaks all the rules, redefines the game, and leaves everyone wondering how she's so smart and so fierce."
                },
                {
                    name: "Savage Thinker",
                    description: "A Savage Thinker loves a good debate and isn't afraid to tear apart your arguments. Quick-witted and sharp, she wins every intellectual battle with a side of shade and a sprinkle of sass."
                },
                {
                    name: "Mastermind",
                    description: "A Mastermind doesn't just create; she dominates. Her genius is matched only by her relentless ambition, and she's always three steps ahead, making moves while everyone else is still trying to catch up."
                },
                {
                    name: "Boss Lady",
                    description: "A Boss Lady isn't just a leader; she's the one everyone's striving to be. She takes control with precision, runs circles around competition, and handles everything with power, poise, and plenty of attitude."
                },
                {
                    name: "Visionary Vixen",
                    description: "A Visionary Vixen doesn't just dream, she makes her vision reality. Unstoppable and determined, she's got big ideas and an even bigger drive to show everyone who's in charge."
                }
            ],
            "Coconut Flan": [
                {
                    name: "Chill Queen",
                    description: "A Chill Queen keeps it cool no matter the drama. She brings calm to chaos and handles everything with a relaxed confidence that makes others wish they could be as effortlessly chill as she is."
                },
                {
                    name: "Charmer Extraordinaire",
                    description: "A Charmer Extraordinaire has everyone eating out of her hand. With just the right amount of flirt and finesse, she can talk circles around anyone and leave them wanting more."
                },
                {
                    name: "Rock Solid Bae",
                    description: "A Rock Solid Bae is steady, unshakable, and keeps it real at all times. When she says she's got you, she has you, and you can count on her to handle anything life throws her way with zero drama."
                },
                {
                    name: "Watchdog",
                    description: "A Watchdog has your back, no questions asked. Loyal to the core and fiercely protective, she doesn't let anyone mess with her people‚Äîshe's a force to be reckoned with, and she's not afraid to fight back."
                },
                {
                    name: "Socialite",
                    description: "A Socialite is always at the center of the action, effortlessly turning every event into the hottest spot in town. Charismatic and sharp, she knows how to work a room and make everything feel like a VIP affair."
                },
                {
                    name: "Globetrotter",
                    description: "A Globetrotter is a wanderer with a taste for the extraordinary. Always booking her next adventure, she lives for exploring the world and doing it in style, making every trip look like a mini runway show."
                }
            ]
        };
        
        // Personalities with their corresponding hair colors
        const personalityHairColors = {
            // Salted Caramelo personalities
            "Powerhouse": "Salted Caramelo",
            "Rule Breaker": "Salted Caramelo",
            "Game Changer": "Salted Caramelo",
            "Firecracker": "Salted Caramelo",
            "Party Animal": "Salted Caramelo",
            
            // Tres Leches personalities
            "Brainiac Baddie": "Tres Leches",
            "Savage Thinker": "Tres Leches",
            "Mastermind": "Tres Leches",
            "Boss Lady": "Tres Leches",
            "Visionary Vixen": "Tres Leches",
            
            // Coconut Flan personalities
            "Chill Queen": "Coconut Flan",
            "Charmer Extraordinaire": "Coconut Flan",
            "Rock Solid Bae": "Coconut Flan",
            "Watchdog": "Coconut Flan",
            "Socialite": "Coconut Flan",
            "Globetrotter": "Coconut Flan"
        };
        
        // DOM elements
        const circles = document.querySelectorAll('.circle');
        const randomButton = document.getElementById('random-button');
        const resultsButton = document.getElementById('results-button');
        const viewLogicButton = document.getElementById('view-logic-button');
        const restartButton = document.getElementById('restart-button');
        const resultsSection = document.querySelector('.results');
        const hairColorBadge = document.getElementById('hair-color-badge');
        const personalityResult = document.getElementById('personality-result');
        const selectedTraitsContainer = document.getElementById('selected-traits-container');
        
        // Selected traits
        let selectedTraits = {
            talent: null,
            love: null,
            type: null,
            toxic: null
        };
        
        // Check if all traits are selected
        function checkAllTraitsSelected() {
            for (const category in selectedTraits) {
                if (!selectedTraits[category]) {
                    return false;
                }
            }
            return true;
        }
        
        // Update results button state
        function updateResultsButtonState() {
            if (checkAllTraitsSelected()) {
                resultsButton.classList.remove('hidden');
            } else {
                resultsButton.classList.add('hidden');
            }
        }
        
        // Spin circle
        function spinCircle(circle) {
            const category = circle.dataset.category;
            const options = categories[category];
            const randomIndex = Math.floor(Math.random() * options.length);
            const selectedOption = options[randomIndex];
            
            circle.classList.add('spinning');
            
            // Track current display index
            let currentIndex = 0;
            
            // Create interval to update icon and text while spinning
            const spinInterval = setInterval(() => {
                currentIndex = (currentIndex + 1) % options.length;
                circle.querySelector('.circle-icon').textContent = options[currentIndex].icon;
                circle.querySelector('.circle-value').textContent = options[currentIndex].label;
            }, 150); // Update every 150ms for a fast spinning effect
            
            setTimeout(() => {
                // Clear spinning interval
                clearInterval(spinInterval);
                
                // Set final result
                circle.querySelector('.circle-icon').textContent = selectedOption.icon;
                circle.querySelector('.circle-value').textContent = selectedOption.label;
                circle.classList.remove('spinning');
                
                // Update selected trait
                selectedTraits[category] = selectedOption;
                updateResultsButtonState();
            }, 3000);
        }
        
        // Calculate personality points
        function calculatePersonalityPoints() {
            // Initialize points for each personality
            const points = {
                "Powerhouse": 0,
                "Rule Breaker": 0,
                "Game Changer": 0,
                "Firecracker": 0,
                "Party Animal": 0,
                "Brainiac Baddie": 0,
                "Savage Thinker": 0,
                "Mastermind": 0,
                "Boss Lady": 0,
                "Visionary Vixen": 0,
                "Chill Queen": 0,
                "Charmer Extraordinaire": 0,
                "Rock Solid Bae": 0,
                "Watchdog": 0,
                "Socialite": 0,
                "Globetrotter": 0
            };
            
            // Hidden Talent points
            const talent = selectedTraits.talent.label;
            // Power skills
            if (talent === "Giving great advice" || talent === "Smooth under pressure" || talent === "Elite parallel parking") {
                points["Powerhouse"] += 3;
                points["Boss Lady"] += 2;
            } 
            // Smart skills
            else if (talent === "Amazing memory for drama" || talent === "Spotting red flags instantly") {
                points["Brainiac Baddie"] += 3;
                points["Savage Thinker"] += 2;
            } 
            // Creative skills
            else if (talent === "Finding the best lighting" || talent === "Memorizing song lyrics") {
                points["Visionary Vixen"] += 3;
                points["Game Changer"] += 2;
            }
            // Physical skills
            else if (talent === "Groceries in 1-trip" || talent === "Making perfect microwave popcorn") {
                points["Rock Solid Bae"] += 3;
                points["Watchdog"] += 2;
            }
            // Social skills
            else if (talent === "Texting back immediately" || talent === "Irish exiting" || talent === "Mouth-tying cherry stems") {
                points["Socialite"] += 3;
                points["Charmer Extraordinaire"] += 2;
                points["Party Animal"] += 1;
            }
            // Relaxed skills
            else if (talent === "Ability to sleep anywhere" || talent === "Marathon napper" || talent === "Always unbothered") {
                points["Chill Queen"] += 3;
                points["Globetrotter"] += 2;
            }
            else if (talent === "Never late") {
                points["Boss Lady"] += 3;
                points["Mastermind"] += 2;
            }
            
            // Love Language points
            const love = selectedTraits.love.label;
            if (love === "Words of affirmation") {
                points["Charmer Extraordinaire"] += 3;
                points["Party Animal"] += 2;
            } 
            else if (love === "Receiving gifts") {
                points["Socialite"] += 3;
                points["Globetrotter"] += 2;
            } 
            else if (love === "Physical touch") {
                points["Firecracker"] += 3;
                points["Rule Breaker"] += 2;
            } 
            else if (love === "Acts of service") {
                points["Watchdog"] += 3;
                points["Rock Solid Bae"] += 2;
            }
            else if (love === "Quality time") {
                points["Chill Queen"] += 3;
                points["Boss Lady"] += 2;
            }
            
            // Type points
            const type = selectedTraits.type.label;
            // Academic/intellectual types
            if (type === "Lives at the library" || type === "Film Buff") {
                points["Brainiac Baddie"] += 3;
                points["Savage Thinker"] += 2;
                points["Mastermind"] += 1;
            } 
            // Athletic types
            else if (type === "Lives at the gym" || type === "Athlete" || type === "Tallest in the room") {
                points["Powerhouse"] += 3;
                points["Rock Solid Bae"] += 2;
            } 
            // Tech/gaming types
            else if (type === "Gamer") {
                points["Mastermind"] += 3;
                points["Game Changer"] += 2;
            }
            // Appearance/style types
            else if (type === "Lives in Crocs" || type === "Fashionista" || type === "Preppy") {
                points["Visionary Vixen"] += 3;
                points["Socialite"] += 2;
            }
            // Dating preference types
            else if (type === "Emotionally unavailable" || type === "Blondes" || type === "Brunettes" || type === "Shorties") {
                points["Firecracker"] += 3;
                points["Rule Breaker"] += 2;
                points["Party Animal"] += 1;
            }
            // Personality types
            else if (type === "Golden retriever" || type === "Hopeless romantic") {
                points["Chill Queen"] += 3;
                points["Charmer Extraordinaire"] += 2;
            }
            else if (type === "Shameless yapper") {
                points["Party Animal"] += 3;
                points["Firecracker"] += 2;
            }
            else if (type === "Works in finance") {
                points["Boss Lady"] += 3;
                points["Watchdog"] += 2;
            }
            
            // Toxic trait points
            const toxic = selectedTraits.toxic.label;
            // Passive aggressive or avoidant traits
            if (toxic === "Avoids confrontation" || toxic === "Says \"it's fine\" (it's not)" || toxic === "Always on \"Do Not Disturb\"") {
                points["Chill Queen"] += 2;
                points["Globetrotter"] += 2;
            } 
            // Time management issues
            else if (toxic === "Sleeps through all alarms" || toxic === "Always running 10 minutes late" || toxic === "Constantly \"on the way\"") {
                points["Party Animal"] += 3;
                points["Firecracker"] += 2;
            } 
            // Social responsibility issues
            else if (toxic === "Constantly cancels plans" || toxic === "Cancels plans last minute" || toxic === "Ghosting for fun") {
                points["Rule Breaker"] += 3;
                points["Savage Thinker"] += 2;
            }
            // Emotional or relationship issues
            else if (toxic === "Holds grudges forever" || toxic === "Over-apologizes" || toxic === "Flirts out of boredom") {
                points["Charmer Extraordinaire"] += 3;
                points["Watchdog"] += 2;
            }
            // Decision-making issues
            else if (toxic === "Can never pick where to eat" || toxic === "Asks for advice, but never follows it") {
                points["Visionary Vixen"] += 2;
                points["Brainiac Baddie"] += 2;
            }
            // Organizational issues
            else if (toxic === "Overpacks for everything" || toxic === "Keeps 87 tabs open") {
                points["Mastermind"] += 3;
                points["Boss Lady"] += 2;
            }
            // Distracting behaviors
            else if (toxic === "Drinks coffee at midnight" || toxic === "Thinks horoscopes explain everything") {
                points["Game Changer"] += 3;
                points["Powerhouse"] += 2;
            }
            
            return points;
        }
        
        // Determine personality and hair color
        function determineResult() {
            const personalityPoints = calculatePersonalityPoints();
            
            // Find personality with highest points
            let maxPoints = 0;
            let topPersonalities = [];
            
            for (const personality in personalityPoints) {
                if (personalityPoints[personality] > maxPoints) {
                    maxPoints = personalityPoints[personality];
                    topPersonalities = [personality];
                } else if (personalityPoints[personality] === maxPoints) {
                    topPersonalities.push(personality);
                }
            }
            
            // Choose randomly if there's a tie
            const personality = topPersonalities[Math.floor(Math.random() * topPersonalities.length)];
            
            // Get corresponding hair color
            const hairColor = personalityHairColors[personality];
            
            return { personality, hairColor };
        }
        
        // Show results
        function showResults() {
            const { personality, hairColor } = determineResult();
            
            // Update results
            hairColorBadge.textContent = hairColor;
            hairColorBadge.className = 'hair-color-result';
            hairColorBadge.classList.add(hairColor.toLowerCase().replace(/\s+/g, '-'));
            
            // Update the personality result text
            personalityResult.textContent = `You are a ${hairColor} ${personality}`;
            
            // Find the personality's description
            let personalityDescription = "";
            for (const color in personalities) {
                const found = personalities[color].find(p => p.name === personality);
                if (found) {
                    personalityDescription = found.description;
                    break;
                }
            }
            document.getElementById('personality-description').textContent = personalityDescription;
            
            // Set product image based on hair color
            const productImage = document.getElementById('product-image');
            const productLink = document.getElementById('product-link');
            
            if (hairColor === "Salted Caramelo") {
                productImage.src = "salted-caramelo.webp";
                productLink.href = "https://www.garnierusa.com/about-our-brands/hair-color/nutrisse-ultra-color/caramelo-blondes/ultra-color-lc1-high-lift-light-brown";
            } else if (hairColor === "Tres Leches") {
                productImage.src = "tres-leches.webp";
                productLink.href = "https://www.garnierusa.com/about-our-brands/hair-color/nutrisse-ultra-color/caramelo-blondes/ultra-color-lc3-high-lift-blonde";
            } else if (hairColor === "Coconut Flan") {
                productImage.src = "coconut-flan.webp";
                productLink.href = "https://www.garnierusa.com/about-our-brands/hair-color/nutrisse-ultra-color/caramelo-blondes/ultra-color-lc2-high-lift-dark-blonde";
            }
            
            // Add selected traits
            selectedTraitsContainer.innerHTML = '';
            for (const category in selectedTraits) {
                const trait = selectedTraits[category];
                const traitPill = document.createElement('div');
                traitPill.className = 'trait-pill';
                traitPill.innerHTML = `
                    <span class="trait-pill-icon">${trait.icon}</span>
                    <span>${trait.label}</span>
                `;
                selectedTraitsContainer.appendChild(traitPill);
            }
            
            // Show results section
            resultsSection.classList.add('show');
            resultsButton.classList.add('hidden');
            restartButton.classList.remove('hidden');
        }
        
        // Reset to initial state
        function resetPredictor() {
            // Clear selected traits
            selectedTraits = {
                talent: null,
                love: null,
                type: null,
                toxic: null
            };
            
            // Reset circles
            circles.forEach(circle => {
                const category = circle.dataset.category;
                circle.querySelector('.circle-icon').textContent = 
                    category === 'talent' ? 'üß†' : 
                    category === 'love' ? '‚ù§Ô∏è' : 
                    category === 'type' ? 'üß†' : 'üòÖ';
                circle.querySelector('.circle-title').textContent = 
                    category === 'talent' ? 'Hidden Talent' : 
                    category === 'love' ? 'Love Language' : 
                    category === 'type' ? 'Your Type' : 'Toxic Trait';
                circle.querySelector('.circle-value').textContent = 'Click to spin';
            });
            
            // Hide results
            resultsSection.classList.remove('show');
            resultsButton.disabled = true;
            resultsButton.classList.remove('hidden');
            restartButton.classList.add('hidden');
        }
        
        // Add event listeners
        circles.forEach(circle => {
            circle.addEventListener('click', () => {
                spinCircle(circle);
            });
        });
        
        randomButton.addEventListener('click', () => {
            circles.forEach(circle => {
                spinCircle(circle);
            });
        });
        
        resultsButton.addEventListener('click', showResults);
        
        restartButton.addEventListener('click', resetPredictor);
        
        viewLogicButton.addEventListener('click', function() {
            window.location.href = 'garnier_flow_diagram.html';
        });
    </script>
</body>
</html> 